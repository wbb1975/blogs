# Go面向对象编程
## 几个关键概念
**Go语言的面向对象之所以与C++，Java以及(较小程度上的)python这些语言如此不同，是因为它不支持继承。Go语言只支持聚合（也叫作组合）和嵌入**。为了弄明白聚合与嵌入的不同，让我们看一小段代码：
```
type ColorPoint struct {
    color.Color               //匿名字段（嵌入）
    x,y      int                    //具名字段（聚合）
}
```
这里color.Color是来自image/color包的类型，x和y则是整型。在Go语言的术语中，color.Color 、x和y都是结构体的字段，color.Color 字段是匿名的（因为它没有变量名），因此事嵌入字段。x和y是具名的聚合字段。如果我们定义`point := ColorPoint{}`，其字段可以通过point.Color、point.x和point.y来访问。

术语“类”（class），“对象”（object）以及“实例”（instance）在传统的多层次继承式面向对象编程中已经定义得非常清晰，但在Go语言中我们完全避开使用它们。相反，我们使用“类型”和“值”，其中自定义类型的值可以包含方法。

由于没有继承，因此也就没有虚函数。Go语言对此的支持则是采用类型安全的鸭子类型（duck type）。在Go语言中，参数可以被声明为一个具体类型（例如，int、string、或者*os.File以及MyType），也可以是借口（interface），即提供了具有满足该接口的方法的值。对于一个生命为借口的值，我们可以传入任意值，只要该值包含给借口所声明的方法。这点非常灵活而强大，特别是当它与Go语言所支持的访问嵌入字段的方法相结合时。

继承的一个优点是，有些方法只需在基类中实现一次，即可在子类中方便地使用。Go语言为此提供了两种解决方案。其中一种解决方案是使用切入，如果我们嵌入了一个类型，方法只需在所嵌入的类型中实现一次，即可在所有包含该嵌入类型的类型中使用。另一种解决方案是，为每一种类型提供独立的方法，但是只是简单地将包装（通常只有一行）了功能性作用的代码放进一个函数中，然后让所有类的方法都调用这个函数。

Go语言面向对象编程中另一个与众不同点是它的接口、值和方法都相互保持独立。接口用于声明方法签名，结构体用于声明聚合或者嵌入的值，而方法用于声明在自定义类型（通常为结构体）上的操作。在一个自定义类型的方法和任何特殊接口之间没有任何显式的联系。但是如果该类型的方法满足一个或多个接口，那么该类型的值可以用于任何该接口的值的地方。当然，每一个类型都满足空接口（interface{}），因此任何值都可以用于声明了空接口的地方。 

一种按Go语言的方式思考的方法是，把 is-a 关系看成由接口来定义，也就是方法的签名。而 has-a 关系可以使用聚合或者嵌入特定类型值的结构体来表达，这些定义构成自定义类型。

虽然没法为内置类型添加方法，但可以很容易地基于内置类型创建自定义类型，然后为其添加呢任何我们想要的方法。给类型的值可以调用我们提供的方法，同时也可以与它们底层类型提供的任何函数，方法以及操作符 一起使用。例如，假如我们有个类型声明type Integer int，我们可以不拘形式地使用整数的+操作符将这两种类型的值相加。并且，一旦我们有了一个自定义类型，我们也可以添加自定义的方法。例如，func  (i Integer) Double(i Integer {return i * 2}。

基于内置类型的自定义类型不但容易创建，运行时效率也非常高。将基于内置类型的自定义类型与该内置类型相互转换无需耗费运行时代价，因为这种转换能够在编译时完成。鉴于此，要使用自定义的方法时将内置类型“升级”成自定义类型，或者要将一个类型传入一个只接受内置类型参数的函数时将自定义类型“降级”成为内置类型，都是非常实用的做法。
## 自定义类型
## 接口
## 结构体

## Reference
- [An Introduction to Programming in Go](http://www.golang-book.com/books/intro)